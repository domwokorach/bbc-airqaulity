{"ast":null,"code":"import _regeneratorRuntime from \"/Users/dominicolanya/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/dominicolanya/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/dominicolanya/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/dominicolanya/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/dominicolanya/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/dominicolanya/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/dominicolanya/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/dominicolanya/Desktop/bbc-airquality/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Search from \"./components/Search/Search\";\nimport AirQuality from \"./components/AirQuality/AirQuality\";\nimport Map from \"./components/MapTile/MapTile\";\nimport Detail from \"./components/Detail/Detail\";\nimport Head from \"./components/Head/Head\";\nvar API_KEY = \"5525712176a6309f7132c2a668df1c0a951b32c2\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      city: \"Ghaziabad\",\n      aqi: undefined,\n      pm25: undefined,\n      pm10: undefined,\n      temp: undefined,\n      geo: undefined,\n      zoom: 12\n    };\n\n    _this.updateState = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        var city, api_call, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                city = _this.state.city;\n\n                if (e) {\n                  e.preventDefault();\n                  city = e.target.elements.city.value;\n                }\n\n                _context.next = 4;\n                return fetch(\"https://api.waqi.info/feed/\".concat(city, \"/?token=\").concat(API_KEY));\n\n              case 4:\n                api_call = _context.sent;\n                _context.next = 7;\n                return api_call.json();\n\n              case 7:\n                data = _context.sent;\n                console.log(data);\n\n                if (data.status === \"ok\") {\n                  _this.setState({\n                    city: data.data.city.name,\n                    aqi: data.data.aqi,\n                    pm25: data.data.iaqi.pm25 ? data.data.iaqi.pm25.v : \"No Data\",\n                    pm10: data.data.iaqi.pm10 ? data.data.iaqi.pm10.v : \"No Data\",\n                    temp: data.data.iaqi.t ? data.data.iaqi.t.v + \"°C\" : \"No Data\",\n                    geo: data.data.city.geo\n                  });\n                } else {\n                  _this.setState({\n                    city: \"City Not Found\",\n                    aqi: 0,\n                    pm25: 0,\n                    pm10: 0,\n                    temp: 0,\n                    geo: [0, 0]\n                  });\n                }\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateState();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"header\", {\n        className: \"App-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }, \"BBC Air Quality\"), /*#__PURE__*/React.createElement(Head, {\n        aqi: this.state.aqi,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid justify-content-center h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Search, {\n        updateState: this.updateState,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-4 h-100 d-flex flex-column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(AirQuality, {\n        aqi: this.state.aqi,\n        city: this.state.city,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Detail, {\n        type: \"PM25\",\n        data: this.state.pm25,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Detail, {\n        type: \"PM10\",\n        data: this.state.pm10,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Detail, {\n        type: \"Temperature\",\n        data: this.state.temp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Map, {\n        geo: this.state.geo,\n        zoom: this.state.zoom,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }\n      })))))), /*#__PURE__*/React.createElement(\"header\", {\n        className: \"App-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, \"BBC Air Quality\"));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"names":["React","Component","Search","AirQuality","Map","Detail","Head","API_KEY","App","state","city","aqi","undefined","pm25","pm10","temp","geo","zoom","updateState","e","preventDefault","target","elements","value","fetch","api_call","json","data","console","log","status","setState","name","iaqi","v","t"],"sources":["/Users/dominicolanya/Desktop/bbc-airquality/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\n\nimport Search from \"./components/Search/Search\";\nimport AirQuality from \"./components/AirQuality/AirQuality\";\nimport Map from \"./components/MapTile/MapTile\";\nimport Detail from \"./components/Detail/Detail\";\nimport Head from \"./components/Head/Head\";\n\nconst API_KEY = \"5525712176a6309f7132c2a668df1c0a951b32c2\";\n\nclass App extends Component {\n  state = {\n    city: \"Ghaziabad\",\n    aqi: undefined,\n    pm25: undefined,\n    pm10: undefined,\n    temp: undefined,\n    geo: undefined,\n    zoom: 12,\n  };\n\n  updateState = async (e) => {\n    var city = this.state.city;\n\n    if (e) {\n      e.preventDefault();\n      city = e.target.elements.city.value;\n    }\n\n    const api_call = await fetch(\n      `https://api.waqi.info/feed/${city}/?token=${API_KEY}`\n    );\n    const data = await api_call.json();\n    console.log(data);\n    if (data.status === \"ok\") {\n      this.setState({\n        city: data.data.city.name,\n        aqi: data.data.aqi,\n        pm25: data.data.iaqi.pm25 ? data.data.iaqi.pm25.v : \"No Data\",\n        pm10: data.data.iaqi.pm10 ? data.data.iaqi.pm10.v : \"No Data\",\n        temp: data.data.iaqi.t ? data.data.iaqi.t.v + \"°C\" : \"No Data\",\n        geo: data.data.city.geo,\n      });\n    } else {\n      this.setState({\n        city: \"City Not Found\",\n        aqi: 0,\n        pm25: 0,\n        pm10: 0,\n        temp: 0,\n        geo: [0, 0],\n      });\n    }\n  };\n\n  componentDidMount() {\n    this.updateState();\n  }\n\n  render() {\n    return (\n      <div>\n        <header className=\"App-header\">BBC Air Quality</header>\n        <Head aqi={this.state.aqi} />\n        <div className=\"container-fluid justify-content-center h-100\">\n          <div className=\"row \">\n            <div className=\"col\">\n              <Search updateState={this.updateState} />\n            </div>\n          </div>\n          <div className=\"row h-100\">\n            <div className=\"col-lg-4 h-100 d-flex flex-column\">\n              <AirQuality aqi={this.state.aqi} city={this.state.city} />\n            </div>\n            <div className=\"col-lg-8\">\n              <div className=\"row\">\n                <div className=\"col\">\n                  <Detail type=\"PM25\" data={this.state.pm25} />\n                </div>\n                <div className=\"col\">\n                  <Detail type=\"PM10\" data={this.state.pm10} />\n                </div>\n                <div className=\"col\">\n                  <Detail type=\"Temperature\" data={this.state.temp} />\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <Map geo={this.state.geo} zoom={this.state.zoom} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <header className=\"App-header\">BBC Air Quality</header>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}